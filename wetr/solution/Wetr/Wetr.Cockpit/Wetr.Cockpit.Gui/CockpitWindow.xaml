<mah:MetroWindow x:Class="Wetr.Cockpit.Gui.CockpitWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Wetr.Cockpit.Gui"
        xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:wpf="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
        mc:Ignorable="d"
        Title="wetr. Cockpit" Height="650" Width="1000"
        Icon="pictures/icons8-sun-500.png"
        MinHeight="450" MinWidth="800"
                 
        Background="White">

    <Window.Resources>
        <Style TargetType="TextBox">
            <Setter Property="MaxHeight" Value="25"></Setter>
        </Style>

        <Style TargetType="TextBlock" x:Key="FormLabel">
            <Setter Property="FontSize" Value="15"></Setter>
            <Setter Property="VerticalAlignment" Value="Center"></Setter>
        </Style>

        <Style TargetType="TextBlock">
            <Setter Property="FontSize" Value="18"></Setter>
        </Style>


        <Style TargetType="ComboBox">
            <Setter Property="MaxHeight" Value="30"></Setter>
        </Style>

        <Style TargetType="DatePicker">
            <Setter Property="MaxHeight" Value="35"></Setter>
        </Style>

        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"></BooleanToVisibilityConverter>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="0.1*"></ColumnDefinition>
            <ColumnDefinition Width="1.75*"></ColumnDefinition>
            <ColumnDefinition Width="0.1*"></ColumnDefinition>
            <ColumnDefinition Width="14*"></ColumnDefinition>
            <ColumnDefinition Width="0.1*"></ColumnDefinition>
        </Grid.ColumnDefinitions>

        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="1*"></RowDefinition>
                <!-- User icon -->
                <RowDefinition Height="4*"></RowDefinition>
                <!-- User text -->
                <RowDefinition Height="1*"></RowDefinition>
                <RowDefinition Height="0.5*"></RowDefinition>
                <!-- Sign in button -->
                <RowDefinition Height="2.5*"></RowDefinition>
                <RowDefinition Height="0.5*"></RowDefinition>
                <!-- Analytics Button -->
                <RowDefinition Height="4*"></RowDefinition>
                <RowDefinition Height="1*"></RowDefinition>
                <!-- Settings button -->
                <RowDefinition Height="4*"></RowDefinition>
                <RowDefinition Height="4*"></RowDefinition>
                <!-- Logout button -->
                <RowDefinition Height="3*"></RowDefinition>
                <RowDefinition Height="1*"></RowDefinition>
            </Grid.RowDefinitions>

            <Viewbox Grid.Row="1"  Width="auto" Height="auto">
                <Path Data="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7.07,18.28C7.5,17.38 10.12,16.5 12,16.5C13.88,16.5 16.5,17.38 16.93,18.28C15.57,19.36 13.86,20 12,20C10.14,20 8.43,19.36 7.07,18.28M18.36,16.83C16.93,15.09 13.46,14.5 12,14.5C10.54,14.5 7.07,15.09 5.64,16.83C4.62,15.5 4,13.82 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,13.82 19.38,15.5 18.36,16.83M12,6C10.06,6 8.5,7.56 8.5,9.5C8.5,11.44 10.06,13 12,13C13.94,13 15.5,11.44 15.5,9.5C15.5,7.56 13.94,6 12,6M12,11A1.5,1.5 0 0,1 10.5,9.5A1.5,1.5 0 0,1 12,8A1.5,1.5 0 0,1 13.5,9.5A1.5,1.5 0 0,1 12,11Z" Fill="#ffd560" />
            </Viewbox>

            <TextBlock Grid.Row="2" HorizontalAlignment="Center" Text="{Binding Path=LoginText}" FontSize="15"></TextBlock>

            <Button Width="auto" Height="auto" Margin="6" Grid.Row="4" Visibility="{Binding Path=LoginVisibility, Converter={StaticResource BooleanToVisibilityConverter}}" Command="{Binding Path=OpenLogin}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*"></ColumnDefinition>
                        <ColumnDefinition Width="4*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Viewbox Margin="1" Grid.Column="0" Width="auto" Height="auto">

                        <Path Data="M10,17V14H3V10H10V7L15,12L10,17M10,2H19A2,2 0 0,1 21,4V20A2,2 0 0,1 19,22H10A2,2 0 0,1 8,20V18H10V20H19V4H10V6H8V4A2,2 0 0,1 10,2Z" Fill="Black" />

                    </Viewbox>
                    <TextBlock Grid.Column="1" Text="Login" FontSize="15" Height="auto" VerticalAlignment="center" Width="auto"></TextBlock>
                </Grid>

            </Button>

            <Button Grid.Row="6" Background="#ecebfa" BorderThickness="0" Width="auto" Height="auto" Margin="1" Command="{Binding Path=AnalyticButton}">

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="0.5*"></ColumnDefinition>
                        <ColumnDefinition Width="2*"></ColumnDefinition>
                        <ColumnDefinition Width="1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <!--<Viewbox Grid.Column="0" Margin="3" Width="auto" Height="auto">
                        <Path Data="M17,3H21V5H17V3M17,7H21V9H17V7M17,11H21V13H17.75L17,12.1V11M21,15V17H19C19,16.31 18.9,15.63 18.71,15H21M17,17A5,5 0 0,1 12,22A5,5 0 0,1 7,17C7,15.36 7.79,13.91 9,13V5A3,3 0 0,1 12,2A3,3 0 0,1 15,5V13C16.21,13.91 17,15.36 17,17M11,8V14.17C9.83,14.58 9,15.69 9,17A3,3 0 0,0 12,20A3,3 0 0,0 15,17C15,15.69 14.17,14.58 13,14.17V8H11M7,3V5H3V3H7M7,7V9H3V7H7M7,11V12.1L6.25,13H3V11H7M3,15H5.29C5.1,15.63 5,16.31 5,17H3V15Z" Fill="Black" />
                    </Viewbox>-->

                    <TextBlock Grid.Column="1" FontSize="13" HorizontalAlignment="Center" VerticalAlignment="Center" TextWrapping="Wrap" TextAlignment="Center" Text="wetr. analytic" ></TextBlock>

                    <Viewbox Grid.Column="2" Margin="2" Width="auto" Height="auto">
                        <Path Data="M22,21H2V3H4V19H6V10H10V19H12V6H16V19H18V14H22V21Z" Fill="Gray" />
                    </Viewbox>
                </Grid>
            </Button>

            <Button Grid.Row="8" Background="#ecebfa" BorderThickness="0" Width="auto" Height="auto" Margin="1" Visibility="{Binding Path=SettingsButtonVisibility, Converter={StaticResource BooleanToVisibilityConverter}}" Command="{Binding Path=StatoinSettingsButton}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="0.5*"></ColumnDefinition>
                        <ColumnDefinition Width="2*"></ColumnDefinition>
                        <ColumnDefinition Width="1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <!--<Viewbox Grid.Column="0" Width="auto" Height="auto">

                        <Path Data="M12,0C8.96,0 6.21,1.23 4.22,3.22L5.63,4.63C7.26,3 9.5,2 12,2C14.5,2 16.74,3 18.36,4.64L19.77,3.23C17.79,1.23 15.04,0 12,0M7.05,6.05L8.46,7.46C9.37,6.56 10.62,6 12,6C13.38,6 14.63,6.56 15.54,7.46L16.95,6.05C15.68,4.78 13.93,4 12,4C10.07,4 8.32,4.78 7.05,6.05M12,15A2,2 0 0,1 10,13A2,2 0 0,1 12,11A2,2 0 0,1 14,13A2,2 0 0,1 12,15M15,9H9A1,1 0 0,0 8,10V22A1,1 0 0,0 9,23H15A1,1 0 0,0 16,22V10A1,1 0 0,0 15,9Z" Fill="Black" />

                    </Viewbox>-->

                    <TextBlock Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" TextWrapping="Wrap" TextAlignment="Center" Text="wetr. station settings" FontSize="12"></TextBlock>

                    <Viewbox Grid.Column="2" Margin="1" Width="auto" Height="auto">
                        <Path Data="M19.43,12.97L21.54,14.63C21.73,14.78 21.78,15.05 21.66,15.27L19.66,18.73C19.54,18.95 19.27,19.03 19.05,18.95L16.56,17.94C16.04,18.34 15.5,18.67 14.87,18.93L14.5,21.58C14.46,21.82 14.25,22 14,22H10C9.75,22 9.54,21.82 9.5,21.58L9.13,18.93C8.5,18.68 7.96,18.34 7.44,17.94L4.95,18.95C4.73,19.03 4.46,18.95 4.34,18.73L2.34,15.27C2.21,15.05 2.27,14.78 2.46,14.63L4.57,12.97L4.5,12L4.57,11L2.46,9.37C2.27,9.22 2.21,8.95 2.34,8.73L4.34,5.27C4.46,5.05 4.73,4.96 4.95,5.05L7.44,6.05C7.96,5.66 8.5,5.32 9.13,5.07L9.5,2.42C9.54,2.18 9.75,2 10,2H14C14.25,2 14.46,2.18 14.5,2.42L14.87,5.07C15.5,5.32 16.04,5.66 16.56,6.05L19.05,5.05C19.27,4.96 19.54,5.05 19.66,5.27L21.66,8.73C21.78,8.95 21.73,9.22 21.54,9.37L19.43,11L19.5,12L19.43,12.97M6.5,12C6.5,12.58 6.59,13.13 6.75,13.66L4.68,15.36L5.43,16.66L7.95,15.72C8.69,16.53 9.68,17.12 10.8,17.37L11.24,20H12.74L13.18,17.37C14.3,17.13 15.3,16.54 16.05,15.73L18.56,16.67L19.31,15.37L17.24,13.67C17.41,13.14 17.5,12.58 17.5,12C17.5,11.43 17.41,10.87 17.25,10.35L19.31,8.66L18.56,7.36L16.06,8.29C15.31,7.47 14.31,6.88 13.19,6.63L12.75,4H11.25L10.81,6.63C9.69,6.88 8.69,7.47 7.94,8.29L5.44,7.35L4.69,8.65L6.75,10.35C6.59,10.87 6.5,11.43 6.5,12M12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5M12,10.5A1.5,1.5 0 0,0 10.5,12A1.5,1.5 0 0,0 12,13.5A1.5,1.5 0 0,0 13.5,12A1.5,1.5 0 0,0 12,10.5Z" Fill="Gray" />
                    </Viewbox>
                    
                </Grid>
            </Button>

            <Button Width="auto" Height="auto" Margin="6" Grid.Row="10" Visibility="{Binding Path=LogoutVisibility, Converter={StaticResource BooleanToVisibilityConverter}}" Command="{Binding Path=Logout}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*"></ColumnDefinition>
                        <ColumnDefinition Width="4*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Viewbox Margin="3" Grid.Column="0" Width="auto" Height="auto">

                        <Path Data="M16,17V14H9V10H16V7L21,12L16,17M14,2A2,2 0 0,1 16,4V6H14V4H5V20H14V18H16V20A2,2 0 0,1 14,22H5A2,2 0 0,1 3,20V4A2,2 0 0,1 5,2H14Z" Fill="Black" />
                    </Viewbox>
                    <TextBlock Grid.Column="1" Text="Logout" Height="auto" FontSize="15" VerticalAlignment="center" Width="auto"></TextBlock>
                </Grid>

            </Button>

        </Grid>

        <!-- E D I T O R   S E C T I O N -->

        <Grid Grid.Column="3">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.5*"></ColumnDefinition>
                <ColumnDefinition Width="10*"></ColumnDefinition>
                <ColumnDefinition Width="0.5*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="0.7*"></RowDefinition>
                <RowDefinition Height="10*"></RowDefinition>
                <RowDefinition Height="0.7*"></RowDefinition>
            </Grid.RowDefinitions>

            <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Path=PublicErrorText}" VerticalAlignment="Center" HorizontalAlignment="Center"></TextBlock>


            <Grid Background="#ecebfa" Grid.Column="1" Grid.Row="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="0.2*"></RowDefinition>
                    <RowDefinition Height="10*"></RowDefinition>
                    <RowDefinition Height="0.2*"></RowDefinition>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0.1*"></ColumnDefinition>
                    <ColumnDefinition Width="10*"></ColumnDefinition>
                    <ColumnDefinition Width="0.1*"></ColumnDefinition>
                </Grid.ColumnDefinitions>

                <ContentControl Grid.Row="1" Grid.Column="1" Visibility="{Binding Path=StationSettingsVisibility, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="0.5*"></ColumnDefinition>
                             <!--List Box--> 
                            <ColumnDefinition Width="5*"></ColumnDefinition>
                            <ColumnDefinition Width="0.5*"></ColumnDefinition>
                             <!--Settings Content--> 
                            <ColumnDefinition Width="15*"></ColumnDefinition>
                            <ColumnDefinition Width="0.5*"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="0.2*"></RowDefinition>
                            <RowDefinition Height="10*"></RowDefinition>
                            <RowDefinition Height="0.2*"></RowDefinition>
                        </Grid.RowDefinitions>

                        <Grid Grid.Column="1" Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="10*"></RowDefinition>
                                <RowDefinition Height="0.1*"></RowDefinition>
                                <RowDefinition Height="1*"></RowDefinition>
                            </Grid.RowDefinitions>

                            <DockPanel Grid.Row="0" Margin="5">
                                <TextBlock VerticalAlignment="Center" Text="Search: "></TextBlock>
                                <TextBox VerticalAlignment="Center" Text="{Binding Path=SearchWord, UpdateSourceTrigger=PropertyChanged}"  ></TextBox>
                            </DockPanel>


                            <ListBox Grid.Row="1"  ItemsSource="{Binding Path=Stations}" SelectedItem="{Binding Path=CurrentStation}">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <DockPanel>
                                            <TextBlock Text="{Binding Path=Name}" />
                                        </DockPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>

                            <Button Grid.Row="3" VerticalAlignment="Center" HorizontalAlignment="Center" Background="LightBlue" BorderThickness="0" Width="110" Height="auto" Command="{Binding Path=OpenAddNewStation}">
                                <Grid VerticalAlignment="Center">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1*"></ColumnDefinition>
                                        <ColumnDefinition Width="2*"></ColumnDefinition>
                                        <ColumnDefinition Width="1*"></ColumnDefinition>
                                    </Grid.ColumnDefinitions>

                                    <TextBlock Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" TextWrapping="Wrap" TextAlignment="Center" Text="Add" FontSize="10"></TextBlock>
                                    <Viewbox Grid.Column="2" Margin="3" Width="auto" Height="auto">
                                        <Path Data="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" Fill="Black" />
                                    </Viewbox>

                                </Grid>
                            </Button>

                        </Grid>


                        <Grid Grid.Column="3" Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="3*"></RowDefinition>
                                <RowDefinition Height="1*"></RowDefinition>
                                <!-- Name 2 -->
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="1*"></RowDefinition>
                                 <!-- Typ 4 -->
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="1*"></RowDefinition>
                                 <!-- Lat/Long 6 -->
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="1*"></RowDefinition>
                                 <!-- Alt 8 -->
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="1*"></RowDefinition>
                                 <!-- community 10 -->
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="3*"></RowDefinition>
                            </Grid.RowDefinitions>

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1*"></ColumnDefinition>
                                <ColumnDefinition Width="3*"></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Path=Name}" VerticalAlignment="Bottom" HorizontalAlignment="Right" FontSize="25"></TextBlock>


                            <TextBlock Style="{StaticResource FormLabel}" Grid.Row="2" Grid.Column="0" Text="Name: "></TextBlock>
                            <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding Path=Name}"></TextBox>

                            <TextBlock Style="{StaticResource FormLabel}" Grid.Row="4" Grid.Column="0" Text="Typ: "></TextBlock>
                            <ComboBox Grid.Row="4" Grid.Column="1" ItemsSource="{Binding Path=StationTypes}" DisplayMemberPath="Model" SelectedItem="{Binding Path=SelectedStationType}"></ComboBox>

                            <TextBlock Style="{StaticResource FormLabel}" Grid.Row="6" Grid.Column="0" Text="Latitude: "></TextBlock>
                            <TextBox Grid.Row="6" Grid.Column="1" Text="{Binding Path=Latitude}"></TextBox>
                            <TextBlock Style="{StaticResource FormLabel}" Grid.Row="7" Grid.Column="0" Text="Longitude: "></TextBlock>
                            <TextBox Grid.Row="7" Grid.Column="1" Text="{Binding Path=Longitude}"></TextBox>
                            <TextBlock Style="{StaticResource FormLabel}" Grid.Row="8" Grid.Column="0" Text="Altitude: "></TextBlock>
                            <TextBox Grid.Row="8" Grid.Column="1" Text="{Binding Path=Altitude}"></TextBox>

                            <TextBlock Style="{StaticResource FormLabel}" Grid.Row="10" Grid.Column="0" Text="Community: "></TextBlock>
                            <ComboBox Grid.Row="10" Grid.Column="1" ItemsSource="{Binding Path=Communities}" DisplayMemberPath="ZipName" SelectedItem="{Binding Path=SelectedCommunity}"></ComboBox>
                            <Grid Grid.Row="12" Grid.Column="1">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <TextBlock Grid.Column="0" Text="{Binding Path=StationSettingsErrorText}" Foreground="Red" TextWrapping="Wrap" FontSize="12"></TextBlock>

                                <Button Grid.Column="1" VerticalAlignment="Bottom" HorizontalAlignment="Right" Background="LightCoral" BorderThickness="0" Width="120" Height="60" Margin="1" Command="{Binding Path=DeleteCommand}">
                                    <Grid VerticalAlignment="Center">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                            <ColumnDefinition Width="2*"></ColumnDefinition>
                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" TextWrapping="Wrap" TextAlignment="Center" Text="Delete Station" FontSize="10"></TextBlock>
                                        <Viewbox Grid.Column="2" Margin="3" Width="auto" Height="auto">
                                            <Path Data="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" Fill="Gray" />
                                        </Viewbox>

                                    </Grid>
                                </Button>

                                <Button Grid.Column="2" VerticalAlignment="Bottom" HorizontalAlignment="Right" Background="LightGreen" BorderThickness="0" Width="120" Height="60" Margin="1" Command="{Binding Path=SaveCommand}">
                                    <Grid VerticalAlignment="Center">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                            <ColumnDefinition Width="2*"></ColumnDefinition>
                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" TextWrapping="Wrap" TextAlignment="Center" Text="Save" FontSize="10"></TextBlock>
                                        <Viewbox Grid.Column="2" Margin="3" Width="auto" Height="auto">
                                            <Path Data="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z" Fill="Gray" />
                                        </Viewbox>

                                    </Grid>
                                </Button>
                            </Grid>



                        </Grid>
                    </Grid>
                </ContentControl>

                <ContentControl Grid.Row="1" Grid.Column="1" Visibility="{Binding Path=AddStationsVisibility, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="0.5*"></ColumnDefinition>
                             <!-- Settings Content -->
                            <ColumnDefinition Width="15*"></ColumnDefinition>
                            <ColumnDefinition Width="0.5*"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="0.2*"></RowDefinition>
                            <RowDefinition Height="10*"></RowDefinition>
                            <RowDefinition Height="0.2*"></RowDefinition>
                        </Grid.RowDefinitions>

                        <Grid Grid.Column="1" Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="3*"></RowDefinition>
                                <RowDefinition Height="1*"></RowDefinition>
                                <!-- Name 2 -->
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="1*"></RowDefinition>
                                <!-- Typ 4 -->
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="1*"></RowDefinition>
                                <!-- Lat/Long 6 -->
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="1*"></RowDefinition>
                                 <!-- Alt 8 -->
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="1*"></RowDefinition>
                                 <!-- community 10 -->
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="3*"></RowDefinition>
                            </Grid.RowDefinitions>

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1*"></ColumnDefinition>
                                <ColumnDefinition Width="3*"></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="1" Text="Add new station" VerticalAlignment="Bottom" HorizontalAlignment="Right" FontSize="25"></TextBlock>


                            <TextBlock Style="{StaticResource FormLabel}" Grid.Row="2" Grid.Column="0" Text="Name: "></TextBlock>
                            <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding Path=Name}"></TextBox>

                            <TextBlock Style="{StaticResource FormLabel}" Grid.Row="4" Grid.Column="0" Text="Typ: "></TextBlock>
                            <ComboBox Grid.Row="4" Grid.Column="1" ItemsSource="{Binding Path=StationTypes}" DisplayMemberPath="Model" SelectedItem="{Binding Path=SelectedStationType}"></ComboBox>

                            <TextBlock Style="{StaticResource FormLabel}" Grid.Row="6" Grid.Column="0" Text="Latitude: "></TextBlock>
                            <TextBox Grid.Row="6" Grid.Column="1" Text="{Binding Path=Latitude}"></TextBox>
                            <TextBlock Style="{StaticResource FormLabel}" Grid.Row="7" Grid.Column="0" Text="Longitude: "></TextBlock>
                            <TextBox Grid.Row="7" Grid.Column="1" Text="{Binding Path=Longitude}"></TextBox>
                            <TextBlock Style="{StaticResource FormLabel}" Grid.Row="8" Grid.Column="0" Text="Altitude: "></TextBlock>
                            <TextBox Grid.Row="8" Grid.Column="1" Text="{Binding Path=Altitude}"></TextBox>

                            <TextBlock Style="{StaticResource FormLabel}" Grid.Row="10" Grid.Column="0" Text="Community: "></TextBlock>
                            <ComboBox Grid.Row="10" Grid.Column="1" ItemsSource="{Binding Path=Communities}" DisplayMemberPath="ZipName" SelectedItem="{Binding Path=SelectedCommunity}"></ComboBox>
                            <Grid Grid.Row="12" Grid.Column="1">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <TextBlock Grid.Column="0" Text="{Binding Path=StationSettingsErrorText}" Foreground="Red" TextWrapping="Wrap" FontSize="12"></TextBlock>
                                <TextBlock Grid.Column="0" Text="{Binding Path=StationSettingsSuccessText}" Foreground="LightGreen" TextWrapping="Wrap" FontSize="12"></TextBlock>

                                <Button Grid.Column="1" VerticalAlignment="Bottom" HorizontalAlignment="Right" Background="LightCoral" BorderThickness="0" Width="120" Height="60" Margin="1" Command="{Binding Path=CancelAddStation}">
                                    <Grid VerticalAlignment="Center">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                            <ColumnDefinition Width="2*"></ColumnDefinition>
                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" TextWrapping="Wrap" TextAlignment="Center" Text="Cancel" FontSize="15"></TextBlock>
                                        <Viewbox Grid.Column="2" Margin="3" Width="auto" Height="auto">
                                            <Path Data="M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z" Fill="Gray" />
                                        </Viewbox>

                                    </Grid>
                                </Button>

                                <Button Grid.Column="2" VerticalAlignment="Bottom" HorizontalAlignment="Right" Background="LightGreen" BorderThickness="0" Width="120" Height="60" Margin="1" Command="{Binding Path=AddStation}">
                                    <Grid VerticalAlignment="Center">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                            <ColumnDefinition Width="2*"></ColumnDefinition>
                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" TextWrapping="Wrap" TextAlignment="Center" Text="Save" FontSize="15"></TextBlock>
                                        <Viewbox Grid.Column="2" Margin="3" Width="auto" Height="auto">
                                            <Path Data="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z" Fill="Gray" />
                                        </Viewbox>

                                    </Grid>
                                </Button>
                            </Grid>



                        </Grid>
                    </Grid>
                </ContentControl>

                <ContentControl Grid.Column="1" Grid.Row="1" Visibility="{Binding Path=AnalysisVisibility, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <!-- Graph -->
                            <RowDefinition Height="2*"></RowDefinition>
                            <!-- Settings -->
                            <RowDefinition Height="1*"></RowDefinition>
                        </Grid.RowDefinitions>

                        <!-- GRAPH -->

                        <wpf:CartesianChart DisableAnimations="True" Grid.Row="0" Series="{Binding Path=SeriesCollection}" LegendLocation="Right" >
                            <wpf:CartesianChart.AxisY>
                                <wpf:Axis Title="Value"></wpf:Axis>
                            </wpf:CartesianChart.AxisY>
                            <wpf:CartesianChart.AxisX>
                                <wpf:Axis Title="Time" LabelFormatter="{Binding Path=XFormatter}"></wpf:Axis>
                            </wpf:CartesianChart.AxisX>
                        </wpf:CartesianChart>

                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1*"></ColumnDefinition>
                                <ColumnDefinition Width="1*"></ColumnDefinition>
                                <ColumnDefinition Width="1*"></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <Grid Grid.Column="0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="0.7*"></RowDefinition>
                                    <RowDefinition Height="2*"></RowDefinition>
                                    <RowDefinition Height="1*"></RowDefinition>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.Row="0" Text="Stations" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="18"></TextBlock>
                                <ListBox Grid.Row="1" Margin="2" ItemsSource="{Binding Path=SelectedStations}">
                                    <ListBox.ItemTemplate>
                                        <DataTemplate>
                                            <DockPanel>
                                                <TextBlock Text="{Binding Path=Name}" />
                                            </DockPanel>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>
                                </ListBox>
                                <Button Grid.Row="2" Margin="3" Command="{Binding Path=OpenStationManager}">
                                    <TextBlock Text="Station Manager" FontSize="15"></TextBlock>
                                </Button>
                            </Grid>

                            <Grid Grid.Column="1" Margin="2">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="1*"></RowDefinition>
                                    <RowDefinition Height="1*"></RowDefinition>
                                    <RowDefinition Height="1*"></RowDefinition>
                                    <RowDefinition Height="1*"></RowDefinition>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.Row="0" Text="Parameters" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="18"></TextBlock>
                                <DockPanel Grid.Row="1">
                                    <TextBlock Style="{StaticResource FormLabel}" Text="Start: "></TextBlock>
                                    <DatePicker SelectedDate="{Binding Path=StartDate}"  ></DatePicker>
                                </DockPanel>
                                <DockPanel Grid.Row="2">
                                    <TextBlock Style="{StaticResource FormLabel}" Text="End:  "></TextBlock>
                                    <DatePicker SelectedDate="{Binding Path=EndDate}" ></DatePicker>
                                </DockPanel>
                                <DockPanel Grid.Row="3">
                                    <TextBlock Style="{StaticResource FormLabel}" Text="Group by: "></TextBlock>
                                    <ComboBox ItemsSource="{Binding Path=GroupByModes}" SelectedItem="{Binding Path=SelectedGroupBy}" DisplayMemberPath="Name" Margin="2"></ComboBox>
                                </DockPanel>
                                
                            </Grid>

                            <Grid Grid.Column="2">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="1*"></RowDefinition>
                                    <RowDefinition Height="1*"></RowDefinition>
                                    <RowDefinition Height="1*"></RowDefinition>
                                    <RowDefinition Height="1*"></RowDefinition>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Text="Calculate by:" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="18"></TextBlock>
                                <ComboBox ItemsSource="{Binding Path=CalcModes}" SelectedItem="{Binding Path=SelectedCalcMode}" DisplayMemberPath="Name" Grid.Row="1" Margin="1"></ComboBox>
                                <ComboBox ItemsSource="{Binding Path=CommulationModes}" SelectedItem="{Binding Path=SelectedCommulationMode}" DisplayMemberPath="Name" Grid.Row="2" Margin="1"></ComboBox>
                                <Button Grid.Row="3" Background="LightGoldenrodYellow" Command="{Binding Path=CalculateGraphCommand}">
                                    <TextBlock Text="Show Graph"></TextBlock>
                                </Button>
                            </Grid>
                        </Grid>

                    </Grid>
                </ContentControl>

                <ContentControl Grid.Column="1" Grid.Row="1" Visibility="{Binding Path=StationManagerVisibilty, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="1*"></RowDefinition>
                            <RowDefinition Height="7*"></RowDefinition>
                            <RowDefinition Height="1*"></RowDefinition>
                        </Grid.RowDefinitions>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1.5*"></ColumnDefinition>
                            <ColumnDefinition Width="0.1*"></ColumnDefinition>
                            <ColumnDefinition Width="1*"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <DockPanel Grid.Column="0" Grid.Row="0">
                            <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="18" Text="Search by:"></TextBlock>
                            <ComboBox Margin="2" ItemsSource="{Binding Path=SearchTypes}" SelectedItem="{Binding Path=SelectedSearchType}" DisplayMemberPath="Name"></ComboBox>
                        </DockPanel>
                        <Grid Grid.Column="0" Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="1*"></RowDefinition>
                                <RowDefinition Height="7*"></RowDefinition>
                            </Grid.RowDefinitions>
                            <DockPanel Grid.Row="0" Visibility="{Binding Path=SearchBoxVisibility, Converter={StaticResource BooleanToVisibilityConverter}}">
                                <TextBlock Text="Search: " HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15"></TextBlock>
                                <TextBox Text="{Binding Path=SearchWordStation, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                            </DockPanel>

                            <DockPanel Grid.Row="0" Visibility="{Binding Path=CommunitiesVisibility, Converter={StaticResource BooleanToVisibilityConverter}}">
                                <TextBlock Text="Search: " HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15"></TextBlock>
                                <ComboBox Margin="2" ItemsSource="{Binding Path=Communities}" SelectedItem="{Binding Path=SelectedCommunityManager}" DisplayMemberPath="ZipName"></ComboBox>
                            </DockPanel>

                            <DockPanel Grid.Row="0" Visibility="{Binding Path=DistrictVisibility, Converter={StaticResource BooleanToVisibilityConverter}}">
                                <TextBlock Text="Search: " HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15"></TextBlock>
                                <ComboBox Margin="2" ItemsSource="{Binding Path=Districts}" SelectedItem="{Binding Path=SelectedDistrict}" DisplayMemberPath="Name"></ComboBox>
                            </DockPanel>

                            <DockPanel Grid.Row="0" Visibility="{Binding Path=ProvinceVisibility, Converter={StaticResource BooleanToVisibilityConverter}}">
                                <TextBlock Text="Search: " HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15"></TextBlock>
                                <ComboBox Margin="2" ItemsSource="{Binding Path=Provinces}" SelectedItem="{Binding Path=SelectedProvince}" DisplayMemberPath="Name"></ComboBox>
                            </DockPanel>

                            <Grid Grid.Row="0" Visibility="{Binding Path=RadiusVisibility, Converter={StaticResource BooleanToVisibilityConverter}}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                    <ColumnDefinition Width="2*"></ColumnDefinition>
                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                    <ColumnDefinition Width="2*"></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="Lat: " HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15"></TextBlock>
                                <TextBox Grid.Column="1" Text="{Binding Path=SearchLat, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                                <TextBlock Grid.Column="2" Text="Long: " HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15"></TextBlock>
                                <TextBox Grid.Column="3" Text="{Binding Path=SearchLong, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                            </Grid>

                            <DockPanel Grid.Row="1" Visibility="{Binding Path=RadiusVisibility, Converter={StaticResource BooleanToVisibilityConverter}}">
                                <TextBlock Text="Radius: " HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15" ></TextBlock>
                                <TextBox Text="{Binding Path=Radius, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                            </DockPanel>
                            


                            <ListBox Grid.Row="3" ItemsSource="{Binding Path=SearchListStations}">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <DockPanel>
                                            <TextBlock Text="{Binding Path=Name}" />
                                        </DockPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Grid>

                        <Button Grid.Column="0" Grid.Row="2" Margin="2" Command="{Binding Path=AddAllButton}">
                            <TextBlock Text="Add all" FontSize="15"></TextBlock>
                        </Button>
                        

                        <TextBlock Grid.Column="2" Grid.Row="0" Text="Chosen stations:" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                        <ListBox Grid.Column="2" Grid.Row="1" ItemsSource="{Binding Path=SelectedStations}">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <DockPanel>
                                        <TextBlock Text="{Binding Path=Name}" />
                                    </DockPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                        <Button Grid.Column="2" Grid.Row="2" Margin="4" Command="{Binding Path=ClearAllButton}">
                            <TextBlock Text="Clear all" FontSize="15"></TextBlock>
                        </Button>
                    </Grid>
                </ContentControl>

            </Grid>

                <Grid Grid.Column="1" Grid.Row="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="7*"></ColumnDefinition>
                        <ColumnDefinition Width="3*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Image Grid.Column="1" Source="pictures/WetrLogoColour.png"></Image>
                </Grid>
            
        </Grid>


    </Grid>
</mah:MetroWindow>
